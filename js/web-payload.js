function modify(id, content){
	$(`#${id}`).val(content);
}

function append(id, content){
	$(`#${id}`).append(content);
}

function sendGetRequest(url_){
	chrome.tabs.update({url: url_});
}


function removePostData(id){

	$(`#${id}`).remove(content);
}

$(document).ready(function() {

    chrome.tabs.getSelected(null,function(tab) {
	    var tablink = decodeURI(tab.url);

	    $("#load_url").click(function(){
			modify("url_text_box", tablink);
		});
	});

    //get button
	$("#send_get").click(function(){
		sendGetRequest($("#url_text_box").val())
	});

	//post button
	var obj = {};

	$("#send_post").click(function(){
		$('#post-data-content > tr').each(function() {
			var key = $(this).find('input').eq(0).val();
			var value = $(this).find('input').eq(1).val();

			obj[key] = value;
			// var cell_of_post = $(this).find(".cell-of-post").html();
		});

		// button.addEventListener("click", function(e){
		// 	e.preventDefault();

		// 	const req = new XMLHttpRequest();
		// 	const baseUrl = "https://myserver.com/login";
		// 	const urlParams = `email=${email}&password=${pwd}`;

		// 	req.open("POST", baseUrl, true);
		// 	req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		// 	req.send(urlParams);

		// 	req.onreadystatechange = function() { // Call a function when the state changes.
		// 	    if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
		// 	        console.log("Got response 200!");
		// 	    }
		// }
	});

	$("#plus_post_data").click(function(){
		var label_list = '<tr>\
							<td style="width:15px"><button class="postdatalist" style="left:-5px;">‚ùå</button></td> \
							</td>\
							<td>\
								<div class="ui input">\
									<input type="text" style="width:250px" class="cell-of-post" placeholder="value" value="">\
								</div>\
							</td>\
							<td>\
								<div class="ui input">\
									<input type="text" style="width:250px" class="cell-of-post" placeholder="value" value="">\
								</div>\
							</td>\
						</tr>'
		$("#post-data-content").append(label_list);

		$(".postdatalist").off();
		$(".postdatalist").click(function () {
			$(this).parent().parent().remove();
		});
	});




	$('.menu .item').tab();

});



